alias k8="kubectl --context nwtprod --namespace auth"
alias k8g="k8 get pod"
alias k8l="k8 logs"
alias k8lf="k8l -f"
alias k8e="k8 exec -it"
k8G() {
    k8g | awk -v service="${1}-[0-9]+-.*" '$0 ~ service { print $1 }'
}
k8E() {
    k8e $(k8G "$1") "$2"
}
k8L() {
    k8lf $(k8G "$1")
}

k88(){
  local HOST=$(egrep -o '^[^/]+' <<< $1)
  echo curl -sS $1 2> /dev/null | tee >(k8E $HOST bash)
}